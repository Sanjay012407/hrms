{"ast":null,"code":"// src/pages/ProfilesPage.js\nimport{useState,useMemo,useCallback,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import{useProfiles}from\"../context/ProfileContext\";import{Link}from\"react-router-dom\";import{PencilIcon,TrashIcon,EyeIcon}from'@heroicons/react/24/outline';import{generateVTID}from'../utils/vtid';// Import VTID utility\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ProfilesPage(){const{profiles,deleteProfile,fetchProfiles}=useProfiles();const[search,setSearch]=useState(\"\");const[rowsPerPage,setRowsPerPage]=useState(10);const[selectedRole,setSelectedRole]=useState(\"\");const[selectedStaffType,setSelectedStaffType]=useState(\"\");const[selectedCompany,setSelectedCompany]=useState(\"\");const[selectedManager,setSelectedManager]=useState(\"\");const[loading,setLoading]=useState(false);const navigate=useNavigate();// Get unique values for filter dropdowns\nconst filterOptions=useMemo(()=>{if(!Array.isArray(profiles)){console.error(\"Profiles data is not an array:\",profiles);return{roles:[],staffTypes:[],companies:[],managers:[]};}const roles=[...new Set(profiles.map(p=>p.role).filter(Boolean))].sort();const staffTypes=[...new Set(profiles.map(p=>p.staffType).filter(Boolean))].sort();const companies=[...new Set(profiles.map(p=>p.company).filter(Boolean))].sort();const managers=[...new Set(profiles.map(p=>p.poc).filter(Boolean))].sort();return{roles,staffTypes,companies,managers};},[profiles]);// Format date helper function\nconst formatDate=date=>{if(!date)return\"N/A\";return new Date(date).toLocaleDateString('en-GB',{day:'2-digit',month:'2-digit',year:'numeric',hour:'2-digit',minute:'2-digit'});};// Clear all filters\nconst clearAllFilters=useCallback(()=>{setSearch(\"\");setRowsPerPage(10);setSelectedRole(\"\");setSelectedStaffType(\"\");setSelectedCompany(\"\");setSelectedManager(\"\");},[]);// Handle profile deletion\nconst handleDeleteProfile=useCallback(async(profileId,profileName)=>{if(window.confirm(\"Are you sure you want to delete the profile for \".concat(profileName,\"? This action cannot be undone.\"))){setLoading(true);try{await deleteProfile(profileId);console.log(\"Profile \".concat(profileName,\" deleted successfully\"));}catch(error){console.error('Error deleting profile:',error);alert('Failed to delete profile. Please try again.');}finally{setLoading(false);}}},[deleteProfile]);// Load profiles on mount and refresh when component becomes visible\nuseEffect(()=>{fetchProfiles();const handleVisibilityChange=()=>{if(!document.hidden){fetchProfiles();}};document.addEventListener('visibilitychange',handleVisibilityChange);return()=>{document.removeEventListener('visibilitychange',handleVisibilityChange);};},[fetchProfiles]);// Filtered profiles with memoization for performance\nconst filteredProfiles=useMemo(()=>{return profiles.filter(p=>{const matchesSearch=\"\".concat(p.firstName,\" \").concat(p.lastName).toLowerCase().includes(search.toLowerCase());const matchesRole=!selectedRole||p.role===selectedRole;const matchesStaffType=!selectedStaffType||p.staffType===selectedStaffType;const matchesCompany=!selectedCompany||p.company===selectedCompany;const matchesManager=!selectedManager||p.poc===selectedManager;return matchesSearch&&matchesRole&&matchesStaffType&&matchesCompany&&matchesManager;});},[profiles,search,selectedRole,selectedStaffType,selectedCompany,selectedManager]);return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold\",children:\"Profiles\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/dashboard/profilescreate\"),className:\"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded shadow\",children:\"+ Create Profile\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search employee...\",value:search,onChange:e=>setSearch(e.target.value),className:\"border px-3 py-2 rounded w-1/3\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"Show\"}),/*#__PURE__*/_jsxs(\"select\",{value:rowsPerPage,onChange:e=>setRowsPerPage(Number(e.target.value)),className:\"border px-2 py-1 rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:5,children:\"5\"}),/*#__PURE__*/_jsx(\"option\",{value:10,children:\"10\"}),/*#__PURE__*/_jsx(\"option\",{value:25,children:\"25\"}),/*#__PURE__*/_jsx(\"option\",{value:50,children:\"50\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"entries\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"select\",{value:selectedRole,onChange:e=>setSelectedRole(e.target.value),className:\"border px-2 py-1 rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Roles\"}),filterOptions.roles.map(role=>/*#__PURE__*/_jsx(\"option\",{value:role,children:role},role))]}),/*#__PURE__*/_jsxs(\"select\",{value:selectedStaffType,onChange:e=>setSelectedStaffType(e.target.value),className:\"border px-2 py-1 rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Staff Types\"}),filterOptions.staffTypes.map(staffType=>/*#__PURE__*/_jsx(\"option\",{value:staffType,children:staffType},staffType))]}),/*#__PURE__*/_jsxs(\"select\",{value:selectedCompany,onChange:e=>setSelectedCompany(e.target.value),className:\"border px-2 py-1 rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Companies\"}),filterOptions.companies.map(company=>/*#__PURE__*/_jsx(\"option\",{value:company,children:company},company))]}),/*#__PURE__*/_jsxs(\"select\",{value:selectedManager,onChange:e=>setSelectedManager(e.target.value),className:\"border px-2 py-1 rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Managers\"}),filterOptions.managers.map(manager=>/*#__PURE__*/_jsx(\"option\",{value:manager,children:manager},manager))]}),/*#__PURE__*/_jsx(\"button\",{onClick:clearAllFilters,className:\"ml-auto text-sm bg-gray-200 px-3 py-1 rounded hover:bg-gray-300\",children:\"Clear All Filters\"})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"w-full border text-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-100\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"border px-2 py-1\",children:\"VTID\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border px-2 py-1\",children:\"Role\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border px-2 py-1\",children:\"First name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border px-2 py-1\",children:\"Last name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border px-2 py-1\",children:\"Staff Type\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border px-2 py-1\",children:\"Company\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border px-2 py-1\",children:\"Job Title\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border px-2 py-1\",children:\"Last Seen\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border px-2 py-1\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredProfiles.slice(0,rowsPerPage).map(p=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"border px-2 py-1\",children:generateVTID(p)}),/*#__PURE__*/_jsx(\"td\",{className:\"border px-2 py-1\",children:p.role}),/*#__PURE__*/_jsx(\"td\",{className:\"border px-2 py-1\",children:p.firstName}),/*#__PURE__*/_jsx(\"td\",{className:\"border px-2 py-1\",children:p.lastName}),/*#__PURE__*/_jsx(\"td\",{className:\"border px-2 py-1\",children:p.staffType}),/*#__PURE__*/_jsx(\"td\",{className:\"border px-2 py-1\",children:p.company}),/*#__PURE__*/_jsx(\"td\",{className:\"border px-2 py-1\",children:Array.isArray(p.jobTitle)?p.jobTitle.join(', '):p.jobTitle||\"N/A\"}),/*#__PURE__*/_jsx(\"td\",{className:\"border px-2 py-1\",children:formatDate(p.lastSeen)}),/*#__PURE__*/_jsx(\"td\",{className:\"border px-2 py-1 text-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center gap-2\",children:[/*#__PURE__*/_jsx(Link,{to:\"/profiles/\".concat(p._id),className:\"text-blue-600 hover:text-blue-800 p-1 rounded hover:bg-blue-50\",title:\"View Profile\",children:/*#__PURE__*/_jsx(EyeIcon,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(Link,{to:\"/profiles/edit/\".concat(p._id),className:\"text-green-600 hover:text-green-800 p-1 rounded hover:bg-green-50\",title:\"Edit Profile\",children:/*#__PURE__*/_jsx(PencilIcon,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteProfile(p._id,\"\".concat(p.firstName,\" \").concat(p.lastName)),className:\"text-red-600 hover:text-red-800 p-1 rounded hover:bg-red-50\",title:\"Delete Profile\",disabled:loading,children:/*#__PURE__*/_jsx(TrashIcon,{className:\"h-4 w-4\"})})]})})]},p._id))})]})]});}","map":{"version":3,"names":["useState","useMemo","useCallback","useEffect","useNavigate","useProfiles","Link","PencilIcon","TrashIcon","EyeIcon","generateVTID","jsx","_jsx","jsxs","_jsxs","ProfilesPage","profiles","deleteProfile","fetchProfiles","search","setSearch","rowsPerPage","setRowsPerPage","selectedRole","setSelectedRole","selectedStaffType","setSelectedStaffType","selectedCompany","setSelectedCompany","selectedManager","setSelectedManager","loading","setLoading","navigate","filterOptions","Array","isArray","console","error","roles","staffTypes","companies","managers","Set","map","p","role","filter","Boolean","sort","staffType","company","poc","formatDate","date","Date","toLocaleDateString","day","month","year","hour","minute","clearAllFilters","handleDeleteProfile","profileId","profileName","window","confirm","concat","log","alert","handleVisibilityChange","document","hidden","addEventListener","removeEventListener","filteredProfiles","matchesSearch","firstName","lastName","toLowerCase","includes","matchesRole","matchesStaffType","matchesCompany","matchesManager","className","children","onClick","type","placeholder","value","onChange","e","target","Number","manager","slice","jobTitle","join","lastSeen","to","_id","title","disabled"],"sources":["C:/Users/DELL/Desktop/hrms/frontend/src/pages/ProfilesPage.js"],"sourcesContent":["// src/pages/ProfilesPage.js\r\nimport { useState, useMemo, useCallback, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useProfiles } from \"../context/ProfileContext\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { PencilIcon, TrashIcon, EyeIcon } from '@heroicons/react/24/outline';\r\nimport { generateVTID } from '../utils/vtid'; // Import VTID utility\r\n\r\nexport default function ProfilesPage() {\r\n  const { profiles, deleteProfile, fetchProfiles } = useProfiles();\r\n  const [search, setSearch] = useState(\"\");\r\n  const [rowsPerPage, setRowsPerPage] = useState(10);\r\n  const [selectedRole, setSelectedRole] = useState(\"\");\r\n  const [selectedStaffType, setSelectedStaffType] = useState(\"\");\r\n  const [selectedCompany, setSelectedCompany] = useState(\"\");\r\n  const [selectedManager, setSelectedManager] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  // Get unique values for filter dropdowns\r\n  const filterOptions = useMemo(() => {\r\n    if (!Array.isArray(profiles)) {\r\n      console.error(\"Profiles data is not an array:\", profiles);\r\n      return { roles: [], staffTypes: [], companies: [], managers: [] };\r\n    }\r\n\r\n    const roles = [...new Set(profiles.map(p => p.role).filter(Boolean))].sort();\r\n    const staffTypes = [...new Set(profiles.map(p => p.staffType).filter(Boolean))].sort();\r\n    const companies = [...new Set(profiles.map(p => p.company).filter(Boolean))].sort();\r\n    const managers = [...new Set(profiles.map(p => p.poc).filter(Boolean))].sort();\r\n    \r\n    return { roles, staffTypes, companies, managers };\r\n  }, [profiles]);\r\n\r\n  // Format date helper function\r\n  const formatDate = (date) => {\r\n    if (!date) return \"N/A\";\r\n    return new Date(date).toLocaleDateString('en-GB', {\r\n      day: '2-digit',\r\n      month: '2-digit',\r\n      year: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  // Clear all filters\r\n  const clearAllFilters = useCallback(() => {\r\n    setSearch(\"\");\r\n    setRowsPerPage(10);\r\n    setSelectedRole(\"\");\r\n    setSelectedStaffType(\"\");\r\n    setSelectedCompany(\"\");\r\n    setSelectedManager(\"\");\r\n  }, []);\r\n\r\n  // Handle profile deletion\r\n  const handleDeleteProfile = useCallback(async (profileId, profileName) => {\r\n    if (window.confirm(`Are you sure you want to delete the profile for ${profileName}? This action cannot be undone.`)) {\r\n      setLoading(true);\r\n      try {\r\n        await deleteProfile(profileId);\r\n        console.log(`Profile ${profileName} deleted successfully`);\r\n      } catch (error) {\r\n        console.error('Error deleting profile:', error);\r\n        alert('Failed to delete profile. Please try again.');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n  }, [deleteProfile]);\r\n\r\n  // Load profiles on mount and refresh when component becomes visible\r\n  useEffect(() => {\r\n    fetchProfiles();\r\n    \r\n    const handleVisibilityChange = () => {\r\n      if (!document.hidden) {\r\n        fetchProfiles();\r\n      }\r\n    };\r\n    \r\n    document.addEventListener('visibilitychange', handleVisibilityChange);\r\n    \r\n    return () => {\r\n      document.removeEventListener('visibilitychange', handleVisibilityChange);\r\n    };\r\n  }, [fetchProfiles]);\r\n\r\n  // Filtered profiles with memoization for performance\r\n  const filteredProfiles = useMemo(() => {\r\n    return profiles.filter((p) => {\r\n      const matchesSearch = `${p.firstName} ${p.lastName}`\r\n        .toLowerCase()\r\n        .includes(search.toLowerCase());\r\n      const matchesRole = !selectedRole || p.role === selectedRole;\r\n      const matchesStaffType = !selectedStaffType || p.staffType === selectedStaffType;\r\n      const matchesCompany = !selectedCompany || p.company === selectedCompany;\r\n      const matchesManager = !selectedManager || p.poc === selectedManager;\r\n\r\n      return matchesSearch && matchesRole && matchesStaffType && matchesCompany && matchesManager;\r\n    });\r\n  }, [profiles, search, selectedRole, selectedStaffType, selectedCompany, selectedManager]);\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      {/* Header with Create Button */}\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <h1 className=\"text-4xl font-bold\">Profiles</h1>\r\n        <button\r\n          onClick={() => navigate(\"/dashboard/profilescreate\")}\r\n          className=\"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded shadow\"\r\n        >\r\n          + Create Profile\r\n        </button>\r\n      </div>\r\n\r\n      {/* Search + Rows selector */}\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search employee...\"\r\n          value={search}\r\n          onChange={(e) => setSearch(e.target.value)}\r\n          className=\"border px-3 py-2 rounded w-1/3\"\r\n        />\r\n\r\n        <div className=\"flex items-center gap-2\">\r\n          <span className=\"text-sm\">Show</span>\r\n          <select\r\n            value={rowsPerPage}\r\n            onChange={(e) => setRowsPerPage(Number(e.target.value))}\r\n            className=\"border px-2 py-1 rounded\"\r\n          >\r\n            <option value={5}>5</option>\r\n            <option value={10}>10</option>\r\n            <option value={25}>25</option>\r\n            <option value={50}>50</option>\r\n          </select>\r\n          <span className=\"text-sm\">entries</span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Filters + Clear button */}\r\n      <div className=\"flex gap-4 mb-4\">\r\n        <select \r\n          value={selectedRole} \r\n          onChange={(e) => setSelectedRole(e.target.value)}\r\n          className=\"border px-2 py-1 rounded\"\r\n        >\r\n          <option value=\"\">All Roles</option>\r\n          {filterOptions.roles.map(role => (\r\n            <option key={role} value={role}>{role}</option>\r\n          ))}\r\n        </select>\r\n        <select \r\n          value={selectedStaffType} \r\n          onChange={(e) => setSelectedStaffType(e.target.value)}\r\n          className=\"border px-2 py-1 rounded\"\r\n        >\r\n          <option value=\"\">All Staff Types</option>\r\n          {filterOptions.staffTypes.map(staffType => (\r\n            <option key={staffType} value={staffType}>{staffType}</option>\r\n          ))}\r\n        </select>\r\n        <select \r\n          value={selectedCompany} \r\n          onChange={(e) => setSelectedCompany(e.target.value)}\r\n          className=\"border px-2 py-1 rounded\"\r\n        >\r\n          <option value=\"\">All Companies</option>\r\n          {filterOptions.companies.map(company => (\r\n            <option key={company} value={company}>{company}</option>\r\n          ))}\r\n        </select>\r\n        <select \r\n          value={selectedManager} \r\n          onChange={(e) => setSelectedManager(e.target.value)}\r\n          className=\"border px-2 py-1 rounded\"\r\n        >\r\n          <option value=\"\">All Managers</option>\r\n          {filterOptions.managers.map(manager => (\r\n            <option key={manager} value={manager}>{manager}</option>\r\n          ))}\r\n        </select>\r\n\r\n        <button\r\n          onClick={clearAllFilters}\r\n          className=\"ml-auto text-sm bg-gray-200 px-3 py-1 rounded hover:bg-gray-300\"\r\n        >\r\n          Clear All Filters\r\n        </button>\r\n      </div>\r\n\r\n      {/* Table */}\r\n      <table className=\"w-full border text-sm\">\r\n        <thead className=\"bg-gray-100\">\r\n          <tr>\r\n            <th className=\"border px-2 py-1\">VTID</th>\r\n            <th className=\"border px-2 py-1\">Role</th>\r\n            <th className=\"border px-2 py-1\">First name</th>\r\n            <th className=\"border px-2 py-1\">Last name</th>\r\n            <th className=\"border px-2 py-1\">Staff Type</th>\r\n            <th className=\"border px-2 py-1\">Company</th>\r\n            <th className=\"border px-2 py-1\">Job Title</th>\r\n            <th className=\"border px-2 py-1\">Last Seen</th>\r\n            <th className=\"border px-2 py-1\">Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {filteredProfiles.slice(0, rowsPerPage).map((p) => (\r\n            <tr key={p._id}>\r\n              <td className=\"border px-2 py-1\">{generateVTID(p)}</td>\r\n              <td className=\"border px-2 py-1\">{p.role}</td>\r\n              <td className=\"border px-2 py-1\">{p.firstName}</td>\r\n              <td className=\"border px-2 py-1\">{p.lastName}</td>\r\n              <td className=\"border px-2 py-1\">{p.staffType}</td>\r\n              <td className=\"border px-2 py-1\">{p.company}</td>\r\n              <td className=\"border px-2 py-1\">\r\n                {Array.isArray(p.jobTitle) \r\n                  ? p.jobTitle.join(', ') \r\n                  : (p.jobTitle || \"N/A\")\r\n                }\r\n              </td>\r\n              <td className=\"border px-2 py-1\">{formatDate(p.lastSeen)}</td>\r\n              <td className=\"border px-2 py-1 text-center\">\r\n                <div className=\"flex items-center justify-center gap-2\">\r\n                  <Link \r\n                    to={`/profiles/${p._id}`} \r\n                    className=\"text-blue-600 hover:text-blue-800 p-1 rounded hover:bg-blue-50\" \r\n                    title=\"View Profile\"\r\n                  >\r\n                    <EyeIcon className=\"h-4 w-4\" />\r\n                  </Link>\r\n                  <Link \r\n                    to={`/profiles/edit/${p._id}`} \r\n                    className=\"text-green-600 hover:text-green-800 p-1 rounded hover:bg-green-50\" \r\n                    title=\"Edit Profile\"\r\n                  >\r\n                    <PencilIcon className=\"h-4 w-4\" />\r\n                  </Link>\r\n                  <button\r\n                    onClick={() => handleDeleteProfile(p._id, `${p.firstName} ${p.lastName}`)}\r\n                    className=\"text-red-600 hover:text-red-800 p-1 rounded hover:bg-red-50\"\r\n                    title=\"Delete Profile\"\r\n                    disabled={loading}\r\n                  >\r\n                    <TrashIcon className=\"h-4 w-4\" />\r\n                  </button>\r\n                </div>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}