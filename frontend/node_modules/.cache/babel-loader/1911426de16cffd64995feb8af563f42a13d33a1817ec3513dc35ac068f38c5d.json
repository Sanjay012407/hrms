{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Desktop\\\\hrms\\\\frontend\\\\src\\\\pages\\\\UserCertificateCreate.js\",\n  _s = $RefreshSig$();\n// src/pages/UserCertificateCreate.js\nimport React, { useState, useEffect } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport { useNavigate } from 'react-router-dom';\nimport { DocumentIcon, ArrowLeftIcon, CloudArrowUpIcon } from '@heroicons/react/24/outline';\nimport SearchableDropdown from '../components/SearchableDropdown';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserCertificateCreate = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const navigate = useNavigate();\n  const [userProfile, setUserProfile] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [formData, setFormData] = useState({\n    certificate: '',\n    category: '',\n    issueDate: '',\n    expiryDate: '',\n    provider: '',\n    cost: '',\n    certificateFile: null\n  });\n  const [errors, setErrors] = useState({});\n  const API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5003';\n  useEffect(() => {\n    if (user !== null && user !== void 0 && user.email) {\n      fetchUserProfile();\n    }\n  }, [user]);\n  const fetchUserProfile = async () => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/api/profiles/by-email/${user.email}`, {\n        credentials: 'include'\n      });\n      if (response.ok) {\n        const profileData = await response.json();\n        setUserProfile(profileData);\n      }\n    } catch (error) {\n      console.error('Error fetching user profile:', error);\n    }\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n\n    // Clear error when user starts typing\n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n  };\n  const handleFileChange = e => {\n    const file = e.target.files[0];\n    setFormData(prev => ({\n      ...prev,\n      certificateFile: file\n    }));\n    if (errors.certificateFile) {\n      setErrors(prev => ({\n        ...prev,\n        certificateFile: ''\n      }));\n    }\n  };\n  const validateForm = () => {\n    const newErrors = {};\n    if (!formData.certificate.trim()) {\n      newErrors.certificate = 'Certificate name is required';\n    }\n    if (!formData.category.trim()) {\n      newErrors.category = 'Category is required';\n    }\n    if (!formData.issueDate) {\n      newErrors.issueDate = 'Issue date is required';\n    }\n    if (!formData.provider.trim()) {\n      newErrors.provider = 'Provider is required';\n    }\n    if (!formData.certificateFile) {\n      newErrors.certificateFile = 'Certificate file is required';\n    } else {\n      const allowedTypes = ['application/pdf', 'image/jpeg', 'image/png', 'image/jpg'];\n      if (!allowedTypes.includes(formData.certificateFile.type)) {\n        newErrors.certificateFile = 'Only PDF, JPEG, and PNG files are allowed';\n      }\n      const maxSize = 10 * 1024 * 1024; // 10MB\n      if (formData.certificateFile.size > maxSize) {\n        newErrors.certificateFile = 'File size must be less than 10MB';\n      }\n    }\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!validateForm()) {\n      return;\n    }\n    if (!userProfile) {\n      alert('User profile not found. Please try again.');\n      return;\n    }\n    setLoading(true);\n    try {\n      const formDataToSend = new FormData();\n      formDataToSend.append('certificate', formData.certificate);\n      formDataToSend.append('category', formData.category);\n      formDataToSend.append('issueDate', formData.issueDate);\n      formDataToSend.append('expiryDate', formData.expiryDate);\n      formDataToSend.append('provider', formData.provider);\n      formDataToSend.append('cost', formData.cost);\n      formDataToSend.append('profileId', userProfile._id);\n      formDataToSend.append('profileName', `${userProfile.firstName} ${userProfile.lastName}`);\n      formDataToSend.append('jobRole', Array.isArray(userProfile.jobRole) ? userProfile.jobRole.join(', ') : userProfile.jobRole || '');\n      formDataToSend.append('status', 'Active');\n      formDataToSend.append('active', 'Yes');\n      if (formData.certificateFile) {\n        formDataToSend.append('certificateFile', formData.certificateFile);\n      }\n      const response = await fetch(`${API_BASE_URL}/api/certificates`, {\n        method: 'POST',\n        credentials: 'include',\n        body: formDataToSend\n      });\n      if (response.ok) {\n        alert('Certificate added successfully!');\n        navigate('/user-dashboard');\n      } else {\n        const errorData = await response.json();\n        alert(`Failed to add certificate: ${errorData.message || 'Unknown error'}`);\n      }\n    } catch (error) {\n      console.error('Error adding certificate:', error);\n      alert('Failed to add certificate. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow-sm border-b\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center py-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => navigate('/user-dashboard'),\n            className: \"mr-4 p-2 text-gray-400 hover:text-gray-600\",\n            children: /*#__PURE__*/_jsxDEV(ArrowLeftIcon, {\n              className: \"h-6 w-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(DocumentIcon, {\n              className: \"h-8 w-8 text-blue-600 mr-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-2xl font-bold text-gray-900\",\n                children: \"Add Certificate\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: \"Upload a new certificate to your profile\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white shadow rounded-lg\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 py-5 sm:p-6\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit,\n            className: \"space-y-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"certificate\",\n                className: \"block text-sm font-medium text-gray-700\",\n                children: \"Certificate Name *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(SearchableDropdown, {\n                value: formData.certificate,\n                onChange: value => setFormData(prev => ({\n                  ...prev,\n                  certificate: value\n                })),\n                placeholder: \"Enter or search certificate name\",\n                apiEndpoint: \"/api/certificate-names/search\",\n                className: \"mt-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 17\n              }, this), errors.certificate && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mt-1 text-sm text-red-600\",\n                children: errors.certificate\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"category\",\n                className: \"block text-sm font-medium text-gray-700\",\n                children: \"Category *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"category\",\n                name: \"category\",\n                value: formData.category,\n                onChange: handleInputChange,\n                className: \"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Select a category\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Safety\",\n                  children: \"Safety\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Technical\",\n                  children: \"Technical\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Professional\",\n                  children: \"Professional\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Compliance\",\n                  children: \"Compliance\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 232,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Training\",\n                  children: \"Training\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Other\",\n                  children: \"Other\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 17\n              }, this), errors.category && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mt-1 text-sm text-red-600\",\n                children: errors.category\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"provider\",\n                className: \"block text-sm font-medium text-gray-700\",\n                children: \"Provider *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(SearchableDropdown, {\n                value: formData.provider,\n                onChange: value => setFormData(prev => ({\n                  ...prev,\n                  provider: value\n                })),\n                placeholder: \"Enter or search provider name\",\n                apiEndpoint: \"/api/suppliers/search\",\n                className: \"mt-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 17\n              }, this), errors.provider && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mt-1 text-sm text-red-600\",\n                children: errors.provider\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"issueDate\",\n                  className: \"block text-sm font-medium text-gray-700\",\n                  children: \"Issue Date *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"date\",\n                  id: \"issueDate\",\n                  name: \"issueDate\",\n                  value: formData.issueDate,\n                  onChange: handleInputChange,\n                  className: \"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 264,\n                  columnNumber: 19\n                }, this), errors.issueDate && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-1 text-sm text-red-600\",\n                  children: errors.issueDate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 273,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"expiryDate\",\n                  className: \"block text-sm font-medium text-gray-700\",\n                  children: \"Expiry Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"date\",\n                  id: \"expiryDate\",\n                  name: \"expiryDate\",\n                  value: formData.expiryDate,\n                  onChange: handleInputChange,\n                  className: \"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"cost\",\n                className: \"block text-sm font-medium text-gray-700\",\n                children: \"Cost (Optional)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                id: \"cost\",\n                name: \"cost\",\n                value: formData.cost,\n                onChange: handleInputChange,\n                placeholder: \"e.g., \\xA3150\",\n                className: \"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"certificateFile\",\n                className: \"block text-sm font-medium text-gray-700\",\n                children: \"Certificate File *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-1 text-center\",\n                  children: [/*#__PURE__*/_jsxDEV(CloudArrowUpIcon, {\n                    className: \"mx-auto h-12 w-12 text-gray-400\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 315,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex text-sm text-gray-600\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"certificateFile\",\n                      className: \"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"Upload a file\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 321,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        id: \"certificateFile\",\n                        name: \"certificateFile\",\n                        type: \"file\",\n                        className: \"sr-only\",\n                        accept: \".pdf,.jpg,.jpeg,.png\",\n                        onChange: handleFileChange\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 322,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 317,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"pl-1\",\n                      children: \"or drag and drop\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 331,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 316,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-gray-500\",\n                    children: \"PDF, PNG, JPG up to 10MB\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 333,\n                    columnNumber: 21\n                  }, this), formData.certificateFile && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-green-600\",\n                    children: [\"Selected: \", formData.certificateFile.name]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 335,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 17\n              }, this), errors.certificateFile && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mt-1 text-sm text-red-600\",\n                children: errors.certificateFile\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-end space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => navigate('/user-dashboard'),\n                className: \"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                disabled: loading,\n                className: \"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\",\n                children: loading ? 'Adding...' : 'Add Certificate'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 173,\n    columnNumber: 5\n  }, this);\n};\n_s(UserCertificateCreate, \"kFaALqLk1bVmWPopxvC4QcDC1I8=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = UserCertificateCreate;\nexport default UserCertificateCreate;\nvar _c;\n$RefreshReg$(_c, \"UserCertificateCreate\");","map":{"version":3,"names":["React","useState","useEffect","useAuth","useNavigate","DocumentIcon","ArrowLeftIcon","CloudArrowUpIcon","SearchableDropdown","jsxDEV","_jsxDEV","UserCertificateCreate","_s","user","navigate","userProfile","setUserProfile","loading","setLoading","formData","setFormData","certificate","category","issueDate","expiryDate","provider","cost","certificateFile","errors","setErrors","API_BASE_URL","process","env","REACT_APP_API_URL","email","fetchUserProfile","response","fetch","credentials","ok","profileData","json","error","console","handleInputChange","e","name","value","target","prev","handleFileChange","file","files","validateForm","newErrors","trim","allowedTypes","includes","type","maxSize","size","Object","keys","length","handleSubmit","preventDefault","alert","formDataToSend","FormData","append","_id","firstName","lastName","Array","isArray","jobRole","join","method","body","errorData","message","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","onChange","placeholder","apiEndpoint","id","accept","disabled","_c","$RefreshReg$"],"sources":["C:/Users/DELL/Desktop/hrms/frontend/src/pages/UserCertificateCreate.js"],"sourcesContent":["// src/pages/UserCertificateCreate.js\nimport React, { useState, useEffect } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport { useNavigate } from 'react-router-dom';\nimport { \n  DocumentIcon, \n  ArrowLeftIcon,\n  CloudArrowUpIcon\n} from '@heroicons/react/24/outline';\nimport SearchableDropdown from '../components/SearchableDropdown';\n\nconst UserCertificateCreate = () => {\n  const { user } = useAuth();\n  const navigate = useNavigate();\n  const [userProfile, setUserProfile] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [formData, setFormData] = useState({\n    certificate: '',\n    category: '',\n    issueDate: '',\n    expiryDate: '',\n    provider: '',\n    cost: '',\n    certificateFile: null\n  });\n  const [errors, setErrors] = useState({});\n\n  const API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5003';\n\n  useEffect(() => {\n    if (user?.email) {\n      fetchUserProfile();\n    }\n  }, [user]);\n\n  const fetchUserProfile = async () => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/api/profiles/by-email/${user.email}`, {\n        credentials: 'include'\n      });\n      \n      if (response.ok) {\n        const profileData = await response.json();\n        setUserProfile(profileData);\n      }\n    } catch (error) {\n      console.error('Error fetching user profile:', error);\n    }\n  };\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    \n    // Clear error when user starts typing\n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n  };\n\n  const handleFileChange = (e) => {\n    const file = e.target.files[0];\n    setFormData(prev => ({\n      ...prev,\n      certificateFile: file\n    }));\n    \n    if (errors.certificateFile) {\n      setErrors(prev => ({\n        ...prev,\n        certificateFile: ''\n      }));\n    }\n  };\n\n  const validateForm = () => {\n    const newErrors = {};\n    \n    if (!formData.certificate.trim()) {\n      newErrors.certificate = 'Certificate name is required';\n    }\n    \n    if (!formData.category.trim()) {\n      newErrors.category = 'Category is required';\n    }\n    \n    if (!formData.issueDate) {\n      newErrors.issueDate = 'Issue date is required';\n    }\n    \n    if (!formData.provider.trim()) {\n      newErrors.provider = 'Provider is required';\n    }\n\n    if (!formData.certificateFile) {\n      newErrors.certificateFile = 'Certificate file is required';\n    } else {\n      const allowedTypes = ['application/pdf', 'image/jpeg', 'image/png', 'image/jpg'];\n      if (!allowedTypes.includes(formData.certificateFile.type)) {\n        newErrors.certificateFile = 'Only PDF, JPEG, and PNG files are allowed';\n      }\n      \n      const maxSize = 10 * 1024 * 1024; // 10MB\n      if (formData.certificateFile.size > maxSize) {\n        newErrors.certificateFile = 'File size must be less than 10MB';\n      }\n    }\n    \n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    if (!validateForm()) {\n      return;\n    }\n\n    if (!userProfile) {\n      alert('User profile not found. Please try again.');\n      return;\n    }\n\n    setLoading(true);\n\n    try {\n      const formDataToSend = new FormData();\n      formDataToSend.append('certificate', formData.certificate);\n      formDataToSend.append('category', formData.category);\n      formDataToSend.append('issueDate', formData.issueDate);\n      formDataToSend.append('expiryDate', formData.expiryDate);\n      formDataToSend.append('provider', formData.provider);\n      formDataToSend.append('cost', formData.cost);\n      formDataToSend.append('profileId', userProfile._id);\n      formDataToSend.append('profileName', `${userProfile.firstName} ${userProfile.lastName}`);\n      formDataToSend.append('jobRole', Array.isArray(userProfile.jobRole) ? userProfile.jobRole.join(', ') : userProfile.jobRole || '');\n      formDataToSend.append('status', 'Active');\n      formDataToSend.append('active', 'Yes');\n      \n      if (formData.certificateFile) {\n        formDataToSend.append('certificateFile', formData.certificateFile);\n      }\n\n      const response = await fetch(`${API_BASE_URL}/api/certificates`, {\n        method: 'POST',\n        credentials: 'include',\n        body: formDataToSend\n      });\n\n      if (response.ok) {\n        alert('Certificate added successfully!');\n        navigate('/user-dashboard');\n      } else {\n        const errorData = await response.json();\n        alert(`Failed to add certificate: ${errorData.message || 'Unknown error'}`);\n      }\n    } catch (error) {\n      console.error('Error adding certificate:', error);\n      alert('Failed to add certificate. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <div className=\"bg-white shadow-sm border-b\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex items-center py-6\">\n            <button\n              onClick={() => navigate('/user-dashboard')}\n              className=\"mr-4 p-2 text-gray-400 hover:text-gray-600\"\n            >\n              <ArrowLeftIcon className=\"h-6 w-6\" />\n            </button>\n            <div className=\"flex items-center\">\n              <DocumentIcon className=\"h-8 w-8 text-blue-600 mr-3\" />\n              <div>\n                <h1 className=\"text-2xl font-bold text-gray-900\">Add Certificate</h1>\n                <p className=\"text-sm text-gray-500\">Upload a new certificate to your profile</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"bg-white shadow rounded-lg\">\n          <div className=\"px-4 py-5 sm:p-6\">\n            <form onSubmit={handleSubmit} className=\"space-y-6\">\n              {/* Certificate Name */}\n              <div>\n                <label htmlFor=\"certificate\" className=\"block text-sm font-medium text-gray-700\">\n                  Certificate Name *\n                </label>\n                <SearchableDropdown\n                  value={formData.certificate}\n                  onChange={(value) => setFormData(prev => ({ ...prev, certificate: value }))}\n                  placeholder=\"Enter or search certificate name\"\n                  apiEndpoint=\"/api/certificate-names/search\"\n                  className=\"mt-1\"\n                />\n                {errors.certificate && (\n                  <p className=\"mt-1 text-sm text-red-600\">{errors.certificate}</p>\n                )}\n              </div>\n\n              {/* Category */}\n              <div>\n                <label htmlFor=\"category\" className=\"block text-sm font-medium text-gray-700\">\n                  Category *\n                </label>\n                <select\n                  id=\"category\"\n                  name=\"category\"\n                  value={formData.category}\n                  onChange={handleInputChange}\n                  className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                >\n                  <option value=\"\">Select a category</option>\n                  <option value=\"Safety\">Safety</option>\n                  <option value=\"Technical\">Technical</option>\n                  <option value=\"Professional\">Professional</option>\n                  <option value=\"Compliance\">Compliance</option>\n                  <option value=\"Training\">Training</option>\n                  <option value=\"Other\">Other</option>\n                </select>\n                {errors.category && (\n                  <p className=\"mt-1 text-sm text-red-600\">{errors.category}</p>\n                )}\n              </div>\n\n              {/* Provider */}\n              <div>\n                <label htmlFor=\"provider\" className=\"block text-sm font-medium text-gray-700\">\n                  Provider *\n                </label>\n                <SearchableDropdown\n                  value={formData.provider}\n                  onChange={(value) => setFormData(prev => ({ ...prev, provider: value }))}\n                  placeholder=\"Enter or search provider name\"\n                  apiEndpoint=\"/api/suppliers/search\"\n                  className=\"mt-1\"\n                />\n                {errors.provider && (\n                  <p className=\"mt-1 text-sm text-red-600\">{errors.provider}</p>\n                )}\n              </div>\n\n              {/* Dates */}\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div>\n                  <label htmlFor=\"issueDate\" className=\"block text-sm font-medium text-gray-700\">\n                    Issue Date *\n                  </label>\n                  <input\n                    type=\"date\"\n                    id=\"issueDate\"\n                    name=\"issueDate\"\n                    value={formData.issueDate}\n                    onChange={handleInputChange}\n                    className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                  />\n                  {errors.issueDate && (\n                    <p className=\"mt-1 text-sm text-red-600\">{errors.issueDate}</p>\n                  )}\n                </div>\n\n                <div>\n                  <label htmlFor=\"expiryDate\" className=\"block text-sm font-medium text-gray-700\">\n                    Expiry Date\n                  </label>\n                  <input\n                    type=\"date\"\n                    id=\"expiryDate\"\n                    name=\"expiryDate\"\n                    value={formData.expiryDate}\n                    onChange={handleInputChange}\n                    className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                  />\n                </div>\n              </div>\n\n              {/* Cost */}\n              <div>\n                <label htmlFor=\"cost\" className=\"block text-sm font-medium text-gray-700\">\n                  Cost (Optional)\n                </label>\n                <input\n                  type=\"text\"\n                  id=\"cost\"\n                  name=\"cost\"\n                  value={formData.cost}\n                  onChange={handleInputChange}\n                  placeholder=\"e.g., Â£150\"\n                  className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                />\n              </div>\n\n              {/* File Upload */}\n              <div>\n                <label htmlFor=\"certificateFile\" className=\"block text-sm font-medium text-gray-700\">\n                  Certificate File *\n                </label>\n                <div className=\"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md\">\n                  <div className=\"space-y-1 text-center\">\n                    <CloudArrowUpIcon className=\"mx-auto h-12 w-12 text-gray-400\" />\n                    <div className=\"flex text-sm text-gray-600\">\n                      <label\n                        htmlFor=\"certificateFile\"\n                        className=\"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500\"\n                      >\n                        <span>Upload a file</span>\n                        <input\n                          id=\"certificateFile\"\n                          name=\"certificateFile\"\n                          type=\"file\"\n                          className=\"sr-only\"\n                          accept=\".pdf,.jpg,.jpeg,.png\"\n                          onChange={handleFileChange}\n                        />\n                      </label>\n                      <p className=\"pl-1\">or drag and drop</p>\n                    </div>\n                    <p className=\"text-xs text-gray-500\">PDF, PNG, JPG up to 10MB</p>\n                    {formData.certificateFile && (\n                      <p className=\"text-sm text-green-600\">\n                        Selected: {formData.certificateFile.name}\n                      </p>\n                    )}\n                  </div>\n                </div>\n                {errors.certificateFile && (\n                  <p className=\"mt-1 text-sm text-red-600\">{errors.certificateFile}</p>\n                )}\n              </div>\n\n              {/* Submit Button */}\n              <div className=\"flex justify-end space-x-3\">\n                <button\n                  type=\"button\"\n                  onClick={() => navigate('/user-dashboard')}\n                  className=\"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                >\n                  Cancel\n                </button>\n                <button\n                  type=\"submit\"\n                  disabled={loading}\n                  className=\"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  {loading ? 'Adding...' : 'Add Certificate'}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default UserCertificateCreate;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}