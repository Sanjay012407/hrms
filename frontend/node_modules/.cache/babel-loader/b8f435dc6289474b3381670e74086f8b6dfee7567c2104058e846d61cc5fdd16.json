{"ast":null,"code":"import _objectSpread from\"/home/thaya/hrm/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import{useProfiles}from\"../context/ProfileContext\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function MyAccount(){const navigate=useNavigate();const{userProfile}=useProfiles();const[profile,setProfile]=useState(userProfile);// Update profile when userProfile changes (especially email)\nuseEffect(()=>{setProfile(userProfile);},[userProfile]);// handle profile picture change\nconst handleImageChange=e=>{const file=e.target.files[0];if(file){const imageUrl=URL.createObjectURL(file);setProfile(prev=>_objectSpread(_objectSpread({},prev),{},{photo:imageUrl}));}};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold\",children:\"My Profile\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/editprofile\"),className:\"text-sm border px-4 py-2 rounded bg-green-600 text-white hover:bg-green-700 shadow\",children:\"Edit\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"border-b mb-6\",children:/*#__PURE__*/_jsx(\"button\",{className:\"px-4 py-2 border-b-2 border-green-600 font-medium text-gray-700\",children:\"Profile\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow rounded-lg p-6 relative\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row items-start md:items-center gap-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col ml-10 items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-28 h-28 rounded-full bg-gray-200 flex items-center justify-center text-4xl overflow-hidden\",children:profile.photo?/*#__PURE__*/_jsx(\"img\",{src:profile.photo,alt:\"Profile\",className:\"w-full h-full object-cover\"}):\"ðŸ‘¤\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"profileUpload\",className:\"hidden\",accept:\"image/*\",onChange:handleImageChange}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>document.getElementById(\"profileUpload\").click(),className:\"mt-2 text-sm border px-3 py-1 rounded bg-gray-50 hover:bg-gray-100\",children:\"Change\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 ml-20\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold\",children:profile.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:profile.role}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-green-600 text-sm mt-1\",children:[\"Last seen \",profile.lastSeen]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-sm font-medium\",children:\"Bio\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:profile.bio||\"None\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm space-y-4 w-full md:w-1/3 md:ml-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700\",children:\"Email\"}),/*#__PURE__*/_jsxs(\"span\",{children:[profile.email,\" \",profile.emailVerified&&/*#__PURE__*/_jsx(\"span\",{className:\"text-green-600 ml-1\",children:\"\\u2714\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700\",children:\"Mobile\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500\",children:profile.mobile||\"No mobile number provided\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700\",children:\"D.O.B.\"}),/*#__PURE__*/_jsx(\"span\",{children:profile.dob||\"-\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700\",children:\"Preferred Language\"}),/*#__PURE__*/_jsx(\"span\",{children:profile.language?profile.language:/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-600 cursor-pointer\",children:\"No language selected\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700\",children:\"Address\"}),/*#__PURE__*/_jsx(\"span\",{children:profile.address||\"-\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700\",children:\"Other Information\"}),/*#__PURE__*/_jsx(\"span\",{children:profile.otherInfo||\"None\"})]})]})]})})]});}","map":{"version":3,"names":["useState","useEffect","useNavigate","useProfiles","jsx","_jsx","jsxs","_jsxs","MyAccount","navigate","userProfile","profile","setProfile","handleImageChange","e","file","target","files","imageUrl","URL","createObjectURL","prev","_objectSpread","photo","className","children","onClick","src","alt","type","id","accept","onChange","document","getElementById","click","name","role","lastSeen","bio","email","emailVerified","mobile","dob","language","address","otherInfo"],"sources":["/home/thaya/hrm/frontend/src/pages/MyAccount.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useProfiles } from \"../context/ProfileContext\";\r\n\r\nexport default function MyAccount() {\r\n  const navigate = useNavigate();\r\n  const { userProfile } = useProfiles();\r\n\r\n  const [profile, setProfile] = useState(userProfile);\r\n\r\n  // Update profile when userProfile changes (especially email)\r\n  useEffect(() => {\r\n    setProfile(userProfile);\r\n  }, [userProfile]);\r\n\r\n  // handle profile picture change\r\n  const handleImageChange = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      const imageUrl = URL.createObjectURL(file);\r\n      setProfile((prev) => ({ ...prev, photo: imageUrl }));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      {/* Header row with title + edit button */}\r\n      <div className=\"flex items-center justify-between mb-2\">\r\n        <h1 className=\"text-2xl font-bold\">My Profile</h1>\r\n        <button\r\n          onClick={() => navigate(\"/editprofile\")}\r\n          className=\"text-sm border px-4 py-2 rounded bg-green-600 text-white hover:bg-green-700 shadow\"\r\n        >\r\n          Edit\r\n        </button>\r\n      </div>\r\n\r\n      {/* Tabs */}\r\n      <div className=\"border-b mb-6\">\r\n        <button className=\"px-4 py-2 border-b-2 border-green-600 font-medium text-gray-700\">\r\n          Profile\r\n        </button>\r\n      </div>\r\n\r\n      {/* Profile Row */}\r\n      <div className=\"bg-white shadow rounded-lg p-6 relative\">\r\n        <div className=\"flex flex-col md:flex-row items-start md:items-center gap-12\">\r\n          {/* Profile Image */}\r\n          <div className=\"flex flex-col ml-10 items-center\">\r\n            <div className=\"w-28 h-28 rounded-full bg-gray-200 flex items-center justify-center text-4xl overflow-hidden\">\r\n              {profile.photo ? (\r\n                <img\r\n                  src={profile.photo}\r\n                  alt=\"Profile\"\r\n                  className=\"w-full h-full object-cover\"\r\n                />\r\n              ) : (\r\n                \"ðŸ‘¤\"\r\n              )}\r\n            </div>\r\n\r\n            {/* Hidden input */}\r\n            <input\r\n              type=\"file\"\r\n              id=\"profileUpload\"\r\n              className=\"hidden\"\r\n              accept=\"image/*\"\r\n              onChange={handleImageChange}\r\n            />\r\n\r\n            <button\r\n              onClick={() => document.getElementById(\"profileUpload\").click()}\r\n              className=\"mt-2 text-sm border px-3 py-1 rounded bg-gray-50 hover:bg-gray-100\"\r\n            >\r\n              Change\r\n            </button>\r\n          </div>\r\n\r\n          {/* Name + Role */}\r\n          <div className=\"flex-1 ml-20\">\r\n            <h2 className=\"text-xl font-semibold\">{profile.name}</h2>\r\n            <p className=\"text-gray-600\">{profile.role}</p>\r\n            <p className=\"text-green-600 text-sm mt-1\">\r\n              Last seen {profile.lastSeen}\r\n            </p>\r\n\r\n            {/* Bio */}\r\n            <div className=\"mt-6\">\r\n              <p className=\"text-gray-500 text-sm font-medium\">Bio</p>\r\n              <p className=\"text-sm\">{profile.bio || \"None\"}</p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Details Section */}\r\n          <div className=\"text-sm space-y-4 w-full md:w-1/3 md:ml-12\">\r\n            <div className=\"flex justify-between\">\r\n              <span className=\"font-medium text-gray-700\">Email</span>\r\n              <span>\r\n                {profile.email}{\" \"}\r\n                {profile.emailVerified && (\r\n                  <span className=\"text-green-600 ml-1\">âœ”</span>\r\n                )}\r\n              </span>\r\n            </div>\r\n\r\n            <div className=\"flex justify-between\">\r\n              <span className=\"font-medium text-gray-700\">Mobile</span>\r\n              <span className=\"text-gray-500\">\r\n                {profile.mobile || \"No mobile number provided\"}\r\n              </span>\r\n            </div>\r\n\r\n            <div className=\"flex justify-between\">\r\n              <span className=\"font-medium text-gray-700\">D.O.B.</span>\r\n              <span>{profile.dob || \"-\"}</span>\r\n            </div>\r\n\r\n            <div className=\"flex justify-between\">\r\n              <span className=\"font-medium text-gray-700\">\r\n                Preferred Language\r\n              </span>\r\n              <span>\r\n                {profile.language ? (\r\n                  profile.language\r\n                ) : (\r\n                  <span className=\"text-blue-600 cursor-pointer\">\r\n                    No language selected\r\n                  </span>\r\n                )}\r\n              </span>\r\n            </div>\r\n\r\n            <div className=\"flex justify-between\">\r\n              <span className=\"font-medium text-gray-700\">Address</span>\r\n              <span>{profile.address || \"-\"}</span>\r\n            </div>\r\n\r\n            <div className=\"flex justify-between\">\r\n              <span className=\"font-medium text-gray-700\">\r\n                Other Information\r\n              </span>\r\n              <span>{profile.otherInfo || \"None\"}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}